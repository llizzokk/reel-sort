{"version":3,"file":"index.js","sources":["../src/js/top-movie.js","../src/js/genres.js","../src/js/advantages.js","../src/js/reviews.js","../src/js/feedback.js","../src/js/load.js"],"sourcesContent":["'use strict';\n\nimport axios from 'axios';\nimport '../css/styles.css';\nimport 'loaders.css';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst END_POINT = '/trending/movie/week';\nconst API_KEY = '5cd3b967f25ca5ea88c6b3955d7951c5';\n\nconst container = document.querySelector('.top-movie-list');\nconst loader = document.querySelector('.loader-container');\nconst errorMessage = document.querySelector('.error');\n\nasync function loadMovies() {\n  loader.style.display = 'block';\n\n  try {\n    const { data } = await axios(`${BASE_URL}${END_POINT}`, {\n      params: {\n        api_key: API_KEY,\n        language: window.currentLanguage || 'en',\n      },\n    });\n\n    const moviesMarkup = createMarkup(data.results);\n    container.innerHTML = '';\n    container.insertAdjacentHTML('beforeend', moviesMarkup);\n\n    const duplicateMarkup = createMarkup(data.results);\n    container.insertAdjacentHTML('beforeend', duplicateMarkup);\n\n    const movieCardWidth = container.firstElementChild.offsetWidth;\n    const totalMovies = data.results.length * 2;\n    const containerWidth = (movieCardWidth + 16) * totalMovies;\n\n    container.style.width = `${containerWidth}px`;\n    container.style.animationDuration = `${totalMovies * 2}s`;\n  } catch (error) {\n    console.error(error.message);\n    errorMessage.classList.replace('error-hidden', 'error-message');\n  } finally {\n    loader.style.display = 'none';\n  }\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ poster_path, title, overview }) => `<li class=\"movie-card\">\n            <img src=\"https://image.tmdb.org/t/p/w300${poster_path}\" alt=\"${title}\" class=\"movie-card-img\" width=\"252\" height=\"375\">\n            <div class=\"movie-card-overlay\">\n              <h3 class=\"movie-card-title\">${title}</h3>\n              <p class=\"movie-card-description\">${overview}</p>\n            </div>\n        </li>`\n    )\n    .join('');\n}\n\nloadMovies();\n\nwindow.addEventListener('languageChange', loadMovies);\n","'use strict';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const listItems = document.querySelectorAll('.genres-item');\n\n  function startAnimation() {\n    listItems.forEach((item, index) => {\n      setTimeout(() => {\n        item.style.opacity = 1;\n        item.style.transform = `translateX(0)`;\n      }, index * 300);\n    });\n  }\n\n  const observer = new IntersectionObserver(\n    entries => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          startAnimation();\n          observer.disconnect();\n        }\n      });\n    },\n    {\n      threshold: 0.3,\n    }\n  );\n\n  observer.observe(document.querySelector('.genres-section'));\n});\n","'use strict';\n\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const accordion = new Accordion('#ac-list', {\n    closeOther: true,\n  });\n  accordion.open(0);\n});\n","'use strict';\n\nimport Swiper from 'swiper';\nimport { Keyboard, Navigation } from 'swiper/modules';\n\nnew Swiper('.swiper', {\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n  modules: [Navigation, Keyboard],\n  slidesPerView: 1,\n  spaceBetween: 20,\n  direction: 'horizontal',\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n  centeredSlides: true,\n  breakpoints: {\n    768: {\n      slidesPerView: 1,\n      spaceBetween: 32,\n    },\n    1280: {\n      spaceBetween: 32,\n      centeredSlides: false,\n      slidesPerView: 2,\n    },\n  },\n});\n","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const text = 'Leave a review...';\n  const typingElement = document.querySelector('.feedback-title');\n  let index = 0;\n\n  function type() {\n    if (index < text.length) {\n      typingElement.textContent = text.slice(0, index + 1);\n      index++;\n      setTimeout(type, 150);\n    } else {\n      setTimeout(() => {\n        index = 0;\n        typingElement.textContent = '';\n        type();\n      }, 2000);\n    }\n  }\n\n  type();\n\n  const form = document.getElementById('feedbackForm');\n  const submitButton = document.getElementById('submitButton');\n  const inputs = document.querySelectorAll('.feedback-input');\n\n  const checkFormValidity = () => {\n    const allFieldsFilled = Array.from(inputs).every(\n      input => input.value.trim() !== ''\n    );\n    submitButton.disabled = !allFieldsFilled;\n  };\n\n  inputs.forEach(input => {\n    input.addEventListener('input', checkFormValidity);\n  });\n\n  form.addEventListener('submit', event => {\n    event.preventDefault();\n    if (window.currentLanguage === 'uk') {\n      iziToast.success({\n        message: 'Відгук успішно надіслано!',\n        messageColor: '#dfe0e2',\n        backgroundColor: '#37302c',\n        position: 'topRight',\n      });\n    } else {\n      iziToast.success({\n        message: 'Feedback was successfully sent!',\n        messageColor: '#dfe0e2',\n        backgroundColor: '#37302c',\n        position: 'topRight',\n      });\n    }\n\n    form.reset();\n\n    submitButton.disabled = true;\n  });\n\n  checkFormValidity();\n});\n","'use strict';\n\nwindow.addEventListener('load', () => {\n  window.scrollTo(0, 0);\n});\n"],"names":["BASE_URL","END_POINT","API_KEY","container","loader","errorMessage","loadMovies","data","axios","moviesMarkup","createMarkup","duplicateMarkup","movieCardWidth","totalMovies","containerWidth","error","arr","poster_path","title","overview","listItems","startAnimation","item","index","observer","entries","entry","Accordion","Swiper","Navigation","Keyboard","text","typingElement","type","form","submitButton","inputs","checkFormValidity","allFieldsFilled","input","event","iziToast"],"mappings":"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"}