{"version":3,"file":"page-3.js","sources":["../src/top-page.js"],"sourcesContent":["'use strict';\n\nimport './css/top-page.css';\nimport axios from 'axios';\nimport 'loaders.css';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst END_POINT = '/movie/top_rated';\nconst API_KEY = '5cd3b967f25ca5ea88c6b3955d7951c5';\n\nconst container = document.querySelector('.moviesContainer');\nconst loader = document.querySelector('.loader-container');\nconst errorMessage = document.querySelector('.error');\n\nasync function serviceTopMovie() {\n  const { data } = await axios(`${BASE_URL}${END_POINT}`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  return data.results;\n}\n\nserviceTopMovie()\n  .then(movies => {\n    loader.style.display = 'block';\n    const moviesMarkup = createTopMarkup(movies);\n    container.insertAdjacentHTML('beforeend', moviesMarkup);\n  })\n  .catch(error => {\n    console.log(error.message);\n    errorMessage.classList.replace('error-hidden', 'error-message');\n  })\n  .finally(() => {\n    loader.style.display = 'none';\n  });\n\nfunction createTopMarkup(arr) {\n  return arr\n    .map(\n      ({ poster_path, title }) => `<li class=\"movies-list-item\">\n            <img src=\"https://image.tmdb.org/t/p/w200${poster_path}\" alt=\"${title}\" class=\"movies-item-img\">\n      <h3 class=\"movies-item-title\">${title}</h3>\n        </li>`\n    )\n    .join('');\n}\n"],"names":["BASE_URL","END_POINT","API_KEY","container","loader","errorMessage","serviceTopMovie","data","axios","movies","moviesMarkup","createTopMarkup","error","arr","poster_path","title"],"mappings":"sFAMA,MAAMA,EAAW,+BACXC,EAAY,mBACZC,EAAU,mCAEVC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAS,SAAS,cAAc,mBAAmB,EACnDC,EAAe,SAAS,cAAc,QAAQ,EAEpD,eAAeC,GAAkB,CAC/B,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMC,EAAM,GAAGR,CAAQ,GAAGC,CAAS,GAAI,CACtD,OAAQ,CACN,QAASC,CACV,CACL,CAAG,EAED,OAAOK,EAAK,OACd,CAEAD,EAAiB,EACd,KAAKG,GAAU,CACdL,EAAO,MAAM,QAAU,QACvB,MAAMM,EAAeC,EAAgBF,CAAM,EAC3CN,EAAU,mBAAmB,YAAaO,CAAY,CAC1D,CAAG,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,EAAM,OAAO,EACzBP,EAAa,UAAU,QAAQ,eAAgB,eAAe,CAClE,CAAG,EACA,QAAQ,IAAM,CACbD,EAAO,MAAM,QAAU,MAC3B,CAAG,EAEH,SAASO,EAAgBE,EAAK,CAC5B,OAAOA,EACJ,IACC,CAAC,CAAE,YAAAC,EAAa,MAAAC,CAAK,IAAO;AAAA,uDACqBD,CAAW,UAAUC,CAAK;AAAA,sCAC3CA,CAAK;AAAA,cAEtC,EACA,KAAK,EAAE,CACZ"}